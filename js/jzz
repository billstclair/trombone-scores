/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jzz@1.0.2/javascript/JZZ.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("JZZ",[],e);else{if(t||(t=window),t.JZZ&&t.JZZ.MIDI)return;t.JZZ=e()}}(this,function(){var t,e,n,r,i,o="undefined"==typeof window?global:window,s="1.0.2",u=Date.now||function(){return(new Date).getTime()},a=u(),h="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return u()-a},f=function(t){setTimeout(t,0)};function c(){this._orig=this,this._ready=!1,this._queue=[],this._log=[]}function p(t,e){this._bad?e instanceof Function&&e.apply(this,[new Error(this._err())]):t instanceof Function&&t.apply(this,[this])}function l(t,e){this._bad?t._crash(this._err()):setTimeout(function(){t._resume()},e)}function d(t){this._bad&&t._break(this._err()),t._resume()}function _(t,e,n){t[n]=function(){var t=arguments,r=e._image();return this._push(d,[r]),r[n].apply(r,t)}}function m(t){this._bad||(t instanceof Function?t.apply(this):console.log(t))}function g(t){this._bad&&(t instanceof Function?t.apply(this):console.log(t))}function v(t){this._bad?t._crash(this._err()):(this._break("Closed"),t._resume())}function y(t){if(t.length){var e=t.shift();if(t.length){var n=this;this._slip(g,[function(){y.apply(n,[t])}])}try{this._repair(),e.apply(this)}catch(t){this._break(t.toString())}}else this._break()}function C(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return;t.push(e)}function b(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return void t.splice(n,1)}function w(){c.apply(this)}function S(t,e,n){if(void 0===e)return S(t,[],[]);if(t instanceof Object){for(var r=0;r<e.length;r++)if(e[r]===t)return n[r];var i;for(var o in i=t instanceof Array?[]:{},e.push(t),n.push(i),t)t.hasOwnProperty(o)&&(i[o]=S(t[o],e,n));return i}return t}c.prototype._exec=function(){for(;this._ready&&this._queue.length;){var t=this._queue.shift();t[0].apply(this,t[1])}},c.prototype._push=function(t,e){this._queue.push([t,e]),c.prototype._exec.apply(this)},c.prototype._slip=function(t,e){this._queue.unshift([t,e])},c.prototype._pause=function(){this._ready=!1},c.prototype._resume=function(){this._ready=!0,c.prototype._exec.apply(this)},c.prototype._break=function(t){this._orig._bad=!0,this._orig._log.push(t||"Unknown JZZ error")},c.prototype._repair=function(){this._orig._bad=!1},c.prototype._crash=function(t){this._break(t),this._resume()},c.prototype._err=function(){return this._log[this._log.length-1]},c.prototype.log=function(){return S(this._log)},c.prototype._image=function(){var t=function(){};t.prototype=this._orig;var e=new t;return e._ready=!1,e._queue=[],e},c.prototype._thenable=function(){var t=this,e=function(){};e.prototype=t;var n=new e;return n.then=function(e,n){return t._push(p,[e,n]),this},n},c.prototype.wait=function(t){if(!t)return this;var e=this._image();return this._push(l,[e,t]),e._thenable()},c.prototype.and=function(t){return this._push(m,[t]),this._thenable()},c.prototype.or=function(t){return this._push(g,[t]),this._thenable()},c.prototype._info={},c.prototype.info=function(){var t=S(this._orig._info);return void 0===t.engine&&(t.engine="none"),void 0===t.sysex&&(t.sysex=!0),t},c.prototype.name=function(){return this.info().name},c.prototype.close=function(){var t=new c;return this._close&&this._push(this._close,[]),this._push(v,[t]),t._thenable()},w.prototype=new c,w.prototype._info={name:"JZZ.js",ver:s,version:s,inputs:[],outputs:[]};var M,O=[],I=[],A=[],E=[];function x(){var t,n;for(M._info.engine=$._type,M._info.version=$._version,M._info.sysex=$._sysex,M._info.inputs=[],M._info.outputs=[],O=[],I=[],$._allOuts={},$._allIns={},t=0;t<$._outs.length;t++)(n=$._outs[t]).engine=$,$._allOuts[n.name]=n,M._info.outputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:$._type}),O.push(n);for(t=0;t<X._outs.length;t++)n=X._outs[t],M._info.outputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:n.type}),O.push(n);for(t=0;t<$._ins.length;t++)(n=$._ins[t]).engine=$,$._allIns[n.name]=n,M._info.inputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:$._type}),I.push(n);for(t=0;t<X._ins.length;t++)n=X._ins[t],M._info.inputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:n.type}),I.push(n);if(M._watcher&&M._watcher._handles.length){var r=function(t,e,n,r){if(!function(t,e,n,r){var i;if(t.length!=n.length||e.length!=r.length)return!0;for(i=0;i<t.length;i++)if(t[i].name!=n[i].name)return!0;for(i=0;i<e.length;i++)if(e[i].name!=r[i].name)return!0;return!1}(t,e,n,r))return;var i,o=[],s=[],u=[],a=[],h={};for(i=0;i<t.length;i++)h[t[i].name]=!0;for(i=0;i<n.length;i++)h[n[i].name]||o.push(n[i]);for(h={},i=0;i<n.length;i++)h[n[i].name]=!0;for(i=0;i<t.length;i++)h[t[i].name]||u.push(t[i]);for(h={},i=0;i<e.length;i++)h[e[i].name]=!0;for(i=0;i<r.length;i++)h[r[i].name]||s.push(r[i]);for(h={},i=0;i<r.length;i++)h[r[i].name]=!0;for(i=0;i<e.length;i++)h[e[i].name]||a.push(e[i]);return{inputs:{added:o,removed:u},outputs:{added:s,removed:a}}}(E,A,M._info.inputs,M._info.outputs);if(r){for(e=0;e<r.inputs.removed.length;e++)(n=$._inMap[r.inputs.removed[e].name])&&n._closeAll();for(e=0;e<r.outputs.removed.length;e++)(n=$._outMap[r.outputs.removed[e].name])&&n._closeAll();H(r)}}E=M._info.inputs,A=M._info.outputs}function P(){this._bad||$._refresh(this)}function B(t,e){var n,r;t instanceof Function&&(t=t(e)),t instanceof Array||(t=[t]);var i=[],o=[],s=e.slice(),u=i;for(n=0;n<t.length;n++)if(void 0===t[n])u=o;else if(t[n]instanceof RegExp)for(r=0;r<s.length;r++)t[n].test(s[r].name)&&(u.push(s[r]),s.splice(r,1),r--);else for(r=0;r<s.length;r++)(t[n]+""==r+""||t[n]===s[r].name||t[n]instanceof Object&&t[n].name===s[r].name)&&(u.push(s[r]),s.splice(r,1),r--);return u==i?i:i.concat(s).concat(o)}function T(t,e){var n;n=e instanceof RegExp?"Port matching "+e+" not found":e instanceof Object||void 0===e?"Port not found":'Port "'+e+'" not found',t._crash(n)}function F(t,e){if(this._bad)t._crash(this._err());else{var n=B(e,O);if(!n.length)return void T(t,e);for(var r=function(t){return function(){t.engine._openOut(this,t.name)}},i=0;i<n.length;i++)n[i]=r(n[i]);t._slip(y,[n]),t._resume()}}function q(t,e){if(this._bad)t._crash(this._err());else{var n=B(e,I);if(!n.length)return void T(t,e);for(var r=function(t){return function(){t.engine._openIn(this,t.name)}},i=0;i<n.length;i++)n[i]=r(n[i]);t._slip(y,[n]),t._resume()}}function D(t,e){this._bad?t._crash():(t._slip(J,[e]),t._resume())}function L(){c.apply(this),this._handles=[],this._outs=[]}function z(t){this._bad||this._receive(t)}function j(t){this._emit(t)}function k(t){t instanceof Function?C(this._orig._handles,t):C(this._orig._outs,t)}function N(t){void 0===t?(this._orig._handles=[],this._orig._outs=[]):t instanceof Function?b(this._orig._handles,t):b(this._orig._outs,t)}function R(t,e){this._orig._mpe||(this._orig._mpe=new Zt),this._orig._mpe.setup(t,e)}function U(t){if(t!=parseInt(t)||t<0||t>15)throw RangeError("Bad channel value (must not be less than 0 or more than 15): "+t)}function G(t,e){L.apply(this),this._port=t._orig,this._chan=e,_(this,this._port,"ch"),_(this,this._port,"mpe"),_(this,this._port,"connect"),_(this,this._port,"disconnect"),_(this,this._port,"close")}function Z(t,e,n){L.apply(this),this._port=t._orig,this._master=e,this._band=n,_(this,this._port,"ch"),_(this,this._port,"mpe"),_(this,this._port,"connect"),_(this,this._port,"disconnect"),_(this,this._port,"close")}function V(){c.apply(this),this._handles=[],_(this,M,"refresh"),_(this,M,"openMidiOut"),_(this,M,"openMidiIn"),_(this,M,"onChange"),_(this,M,"close")}function J(t){t instanceof Function&&(this._orig._handles.length||$._watch(),C(this._orig._handles,t))}function W(t){void 0===t?this._orig._handles=[]:b(this._orig._handles,t),this._orig._handles.length||$._unwatch()}function H(e){for(t=0;t<M._watcher._handles.length;t++)M._watcher._handles[t].apply(M,[e])}w.prototype.refresh=function(){return this._push(P,[]),this._thenable()},w.prototype.openMidiOut=function(t){var e=new L;return this._push(P,[]),this._push(F,[e,t]),e._thenable()},w.prototype._openMidiOutNR=function(t){var e=new L;return this._push(F,[e,t]),e._thenable()},w.prototype.openMidiIn=function(t){var e=new L;return this._push(P,[]),this._push(q,[e,t]),e._thenable()},w.prototype._openMidiInNR=function(t){var e=new L;return this._push(q,[e,t]),e._thenable()},w.prototype.onChange=function(t){this._orig._watcher||(this._orig._watcher=new V);var e=this._orig._watcher._image();return this._push(D,[e,t]),e._thenable()},w.prototype._close=function(){$._close()},L.prototype=new c,L.prototype._filter=function(t){if(this._orig._mpe){var e,n=0;this._handles&&this._handles.length&&(n=this._handles.length,e=this._handles[0]),this._outs&&this._outs.length&&(n=this._outs.length,e=this._outs[0]),1!=n||e._mpe||(t=this._orig._mpe.filter(t))}return t},L.prototype._receive=function(t){this._emit(this._filter(t))},L.prototype.send=function(){return this._push(z,[gt.apply(null,arguments)]),this._thenable()},L.prototype.note=function(t,e,n,r){return this.noteOn(t,e,n),r>0&&this.wait(r).noteOff(t,e),this._thenable()},L.prototype._emit=function(t){var e;for(e=0;e<this._handles.length;e++)this._handles[e].apply(this,[gt(t)._stamp(this)]);for(e=0;e<this._outs.length;e++){var n=gt(t);n._stamped(this._outs[e])||this._outs[e].send(n._stamp(this))}},L.prototype.emit=function(t){return this._push(j,[t]),this._thenable()},L.prototype.connect=function(t){return this._push(k,[t]),this._thenable()},L.prototype.disconnect=function(t){return this._push(N,[t]),this._thenable()},L.prototype.connected=function(){return this._orig._handles.length+this._orig._outs.length},L.prototype.ch=function(t){if(void 0===t)return this;U(t);var e=new G(this,t);return this._push(d,[e]),e._thenable()},L.prototype.mpe=function(t,e){if(void 0===t&&void 0===e)return this;Zt.validate(t,e);var n=e?new Z(this,t,e):new G(this,t);return this._push(R,[t,e]),this._push(d,[n]),n._thenable()},G.prototype=new L,G.prototype.channel=function(){return this._chan},G.prototype._receive=function(t){this._port._receive(t)},G.prototype.note=function(t,e,n){return this.noteOn(t,e),n&&this.wait(n).noteOff(t),this._thenable()},Z.prototype=new L,Z.prototype.channel=function(){return this._master},Z.prototype._receive=function(t){this._port._receive(t)},Z.prototype.note=function(t,e,n){return this.noteOn(t,e),n&&this.wait(n).noteOff(t),this._thenable()},V.prototype=new c,V.prototype.connect=function(t){return this._push(J,[t]),this._thenable()},V.prototype.disconnect=function(t){return this._push(W,[t]),this._thenable()};var Q,K,$={},X={_outs:[],_ins:[]};function Y(){if("undefined"!=typeof module&&module.exports)return t=require("jazz-midi"),$._type="node",$._main=t,$._pool=[],$._newPlugin=function(){return new t.MIDI},void ut();var t;this._break()}function tt(){var t=document.createElement("div");t.style.visibility="hidden",document.body.appendChild(t);var e=document.createElement("object");e.style.visibility="hidden",e.style.width="0px",e.style.height="0px",e.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",e.type="audio/x-jazz",document.body.appendChild(e),e.isJazz?function(t){$._type="plugin",$._main=t,$._pool=[t],$._newPlugin=function(){var e=document.createElement("object");return e.style.visibility="hidden",e.style.width="0px",t.style.height="0px",e.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",e.type="audio/x-jazz",document.body.appendChild(e),e.isJazz?e:void 0},ut()}(e):this._break()}if("undefined"!=typeof navigator&&navigator.requestMIDIAccess){Q=navigator,K=navigator.requestMIDIAccess;try{-1!=K.toString().indexOf("JZZ(")&&(K=void 0)}catch(t){}}function et(){if(K){var t=this;return K.call(Q,{}).then(function(e){at(e),t._resume()},function(e){t._crash(e)}),void this._pause()}this._break()}function nt(){if(K){var t=this;return K.call(Q,{sysex:!0}).then(function(e){at(e,!0),t._resume()},function(e){t._crash(e)}),void this._pause()}this._break()}function rt(){var t,e,n=this;this._pause(),document.addEventListener("jazz-midi-msg",function r(){if(t=!0,e||(e=document.getElementById("jazz-midi-msg")),e){var i=[];try{i=JSON.parse(e.innerText)}catch(t){}e.innerText="",document.removeEventListener("jazz-midi-msg",r),"version"===i[0]?(function(t,e){function n(){for(var t=0;t<this.clients.length;t++)this._close(this.clients[t])}var r;$._type="extension",$._version=e,$._sysex=!0,$._pool=[],$._outs=[],$._ins=[],$._inArr=[],$._outArr=[],$._inMap={},$._outMap={},$._outsW=[],$._insW=[],$.refreshClients=[],$._msg=t,$._newPlugin=function(){var t={id:$._pool.length};$._pool.push(t),t.id?document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["new"]})):t.ready=!0},$._newPlugin(),$._refresh=function(t){$.refreshClients.push(t),t._pause(),f(function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["refresh"]}))})},$._openOut=function(t,e){var r=$._outMap[e];if(!r){$._pool.length<=$._outArr.length&&$._newPlugin();var i=$._pool[$._outArr.length];(r={name:e,clients:[],info:{name:e,manufacturer:$._allOuts[e].manufacturer,version:$._allOuts[e].version,type:"MIDI-out",sysex:$._sysex,engine:$._type},_start:function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["openout",i.id,e]}))},_close:function(t){$._closeOut(t)},_closeAll:n,_receive:function(t){if(t.length){var e=t.slice();e.splice(0,0,"play",i.id),document.dispatchEvent(new CustomEvent("jazz-midi",{detail:e}))}}}).plugin=i,i.output=r,$._outArr.push(r),$._outMap[e]=r}t._orig._impl=r,C(r.clients,t._orig),t._info=r.info,t._receive=function(t){r._receive(t)},t._close=function(){r._close(this)},r.open||(t._pause(),r.plugin.ready&&r._start())},$._openIn=function(t,e){var r=$._inMap[e];if(!r){$._pool.length<=$._inArr.length&&$._newPlugin();var i=$._pool[$._inArr.length];(r={name:e,clients:[],info:{name:e,manufacturer:$._allIns[e].manufacturer,version:$._allIns[e].version,type:"MIDI-in",sysex:$._sysex,engine:$._type},_start:function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["openin",i.id,e]}))},_close:function(t){$._closeIn(t)},_closeAll:n}).plugin=i,i.input=r,$._inArr.push(r),$._inMap[e]=r}t._orig._impl=r,C(r.clients,t._orig),t._info=r.info,t._close=function(){r._close(this)},r.open||(t._pause(),r.plugin.ready&&r._start())},$._closeOut=function(t){var e=t._impl;b(e.clients,t._orig),!e.clients.length&&e.open&&(e.open=!1,document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["closeout",e.plugin.id]})))},$._closeIn=function(t){var e=t._impl;b(e.clients,t._orig),!e.clients.length&&e.open&&(e.open=!1,document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["closein",e.plugin.id]})))},$._close=function(){$._unwatch()},$._watch=function(){$._insW=$._ins,$._outsW=$._outs,r=setInterval(function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["refresh"]}))},250)},$._unwatch=function(){clearInterval(r),r=void 0},document.addEventListener("jazz-midi-msg",function(){var t,e,n,r=$._msg.innerText.split("\n");for($._msg.innerText="",e=0;e<r.length;e++){var i=[];try{i=JSON.parse(r[e])}catch(t){}if(i.length)if("refresh"===i[0]){if(i[1].ins){for(n=0;n<i[1].ins.length;n++)i[1].ins[n].type=$._type;$._ins=i[1].ins}if(i[1].outs){for(n=0;n<i[1].outs.length;n++)i[1].outs[n].type=$._type;$._outs=i[1].outs}for(x(),n=0;n<$.refreshClients.length;n++)$.refreshClients[n]._resume();$.refreshClients=[]}else if("version"===i[0]){var o=$._pool[i[1]];o&&(o.ready=!0,o.input&&o.input._start(),o.output&&o.output._start())}else if("openout"===i[0]){if(t=$._pool[i[1]].output)if(i[2]==t.name){if(t.open=!0,t.clients)for(n=0;n<t.clients.length;n++)t.clients[n]._resume()}else if(t.clients)for(n=0;n<t.clients.length;n++)t.clients[n]._crash()}else if("openin"===i[0]){if(t=$._pool[i[1]].input)if(i[2]==t.name){if(t.open=!0,t.clients)for(n=0;n<t.clients.length;n++)t.clients[n]._resume()}else if(t.clients)for(n=0;n<t.clients.length;n++)t.clients[n]._crash()}else if("midi"===i[0]&&(t=$._pool[i[1]].input)&&t.clients)for(n=0;n<t.clients.length;n++){var s=gt(i.slice(3));t.clients[n]._emit(s)}}})}(e,i[2]),n._resume()):n._crash()}});try{document.dispatchEvent(new Event("jazz-midi"))}catch(t){}f(function(){t||n._crash()})}function it(){this._pause();var t=this;f(function(){t._crash()})}function ot(t){for(var e=[],n=function(t){var e=["node","extension","plugin","webmidi"];if(!t||!t.engine)return e;var n,r,i,o=t.engine instanceof Array?t.engine:[t.engine],s={},u=[],a=[];for(i=0;i<o.length;i++){var h=o[i].toString().toLowerCase();s[h]||(s[h]=!0,"none"===h&&(n=!0),"etc"!==h&&void 0!==h||(r=!0),r?a.push(h):u.push(h),b(e,h))}(r||u.length||a.length)&&(n=!1);return n?[]:u.concat(r?e:a)}(t),r=0;r<n.length;r++)"webmidi"==n[r]?(t&&!0===t.sysex&&e.push(nt),t&&!0===t.sysex&&!0!==t.degrade||e.push(et)):"node"==n[r]?(e.push(Y),e.push(it)):"extension"==n[r]?e.push(rt):"plugin"==n[r]&&e.push(tt);return e.push(st),e}function st(){$._type="none",$._version=s,$._sysex=!0,$._outs=[],$._ins=[],$._refresh=function(){x()},$._watch=function(){},$._unwatch=function(){},$._close=function(){}}function ut(){var t;function e(){for(var t=0;t<this.clients.length;t++)this._close(this.clients[t])}$._inArr=[],$._outArr=[],$._inMap={},$._outMap={},$._outsW=[],$._insW=[],$._version=$._main.version,$._sysex=!0,$._refresh=function(){var t,e;for($._outs=[],$._ins=[],t=0;(e=$._main.MidiOutInfo(t)).length;t++)$._outs.push({type:$._type,name:e[0],manufacturer:e[1],version:e[2]});for(t=0;(e=$._main.MidiInInfo(t)).length;t++)$._ins.push({type:$._type,name:e[0],manufacturer:e[1],version:e[2]});x()},$._openOut=function(t,n){var r=$._outMap[n];if(!r){$._pool.length<=$._outArr.length&&$._pool.push($._newPlugin()),r={name:n,clients:[],info:{name:n,manufacturer:$._allOuts[n].manufacturer,version:$._allOuts[n].version,type:"MIDI-out",sysex:$._sysex,engine:$._type},_close:function(t){$._closeOut(t)},_closeAll:e,_receive:function(t){t.length&&this.plugin.MidiOutRaw(t.slice())}};var i=$._pool[$._outArr.length];r.plugin=i,$._outArr.push(r),$._outMap[n]=r}if(!r.open){var o=r.plugin.MidiOutOpen(n);if(o!==n)return o&&r.plugin.MidiOutClose(),void t._break();r.open=!0}t._orig._impl=r,C(r.clients,t._orig),t._info=r.info,t._receive=function(t){r._receive(t)},t._close=function(){r._close(this)}},$._openIn=function(t,n){var r,i=$._inMap[n];if(!i){$._pool.length<=$._inArr.length&&$._pool.push($._newPlugin());(i={name:n,clients:[],info:{name:n,manufacturer:$._allIns[n].manufacturer,version:$._allIns[n].version,type:"MIDI-in",sysex:$._sysex,engine:$._type},_close:function(t){$._closeIn(t)},_closeAll:e,handle:function(t,e){for(var n=0;n<this.clients.length;n++){var r=gt(e);this.clients[n]._emit(r)}}}).onmidi=(r=i,function(t,e){r.handle(t,e)});var o=$._pool[$._inArr.length];i.plugin=o,$._inArr.push(i),$._inMap[n]=i}if(!i.open){var s=i.plugin.MidiInOpen(n,i.onmidi);if(s!==n)return s&&i.plugin.MidiInClose(),void t._break();i.open=!0}t._orig._impl=i,C(i.clients,t._orig),t._info=i.info,t._close=function(){i._close(this)}},$._closeOut=function(t){var e=t._impl;b(e.clients,t._orig),!e.clients.length&&e.open&&(e.open=!1,e.plugin.MidiOutClose())},$._closeIn=function(t){var e=t._impl;b(e.clients,t._orig),!e.clients.length&&e.open&&(e.open=!1,e.plugin.MidiInClose())},$._close=function(){for(var t=0;t<$._inArr.length;t++)$._inArr[t].open&&$._inArr[t].plugin.MidiInClose();$._unwatch()},$._watch=function(){t||(t=setInterval(function(){$._refresh()},250))},$._unwatch=function(){t&&clearInterval(t),t=void 0}}function at(t,e){var n;function r(){for(var t=0;t<this.clients.length;t++)this._close(this.clients[t])}$._type="webmidi",$._version=43,$._sysex=!!e,$._access=t,$._inMap={},$._outMap={},$._outsW=[],$._insW=[],$._refresh=function(){$._outs=[],$._ins=[],$._access.outputs.forEach(function(t){$._outs.push({type:$._type,name:t.name,manufacturer:t.manufacturer,version:t.version})}),$._access.inputs.forEach(function(t){$._ins.push({type:$._type,name:t.name,manufacturer:t.manufacturer,version:t.version})}),x()},$._openOut=function(t,e){var n,i=$._outMap[e];i||(i={name:e,clients:[],info:{name:e,manufacturer:$._allOuts[e].manufacturer,version:$._allOuts[e].version,type:"MIDI-out",sysex:$._sysex,engine:$._type},_close:function(t){$._closeOut(t)},_closeAll:r,_receive:function(t){i.dev&&t.length&&this.dev.send(t.slice())}}),$._access.outputs.forEach(function(t){t.name===e&&(n=t)}),n?(i.dev=n,$._outMap[e]=i,t._orig._impl=i,C(i.clients,t._orig),t._info=i.info,t._receive=function(t){i._receive(t)},t._close=function(){i._close(this)},i.dev.open&&(t._pause(),i.dev.open().then(function(){t._resume()},function(){t._crash()}))):t._break()},$._openIn=function(t,e){var n,i,o=$._inMap[e];if(o||(o={name:e,clients:[],info:{name:e,manufacturer:$._allIns[e].manufacturer,version:$._allIns[e].version,type:"MIDI-in",sysex:$._sysex,engine:$._type},_close:function(t){$._closeIn(t)},_closeAll:r,handle:function(t){for(var e=0;e<this.clients.length;e++){var n=gt([].slice.call(t.data));this.clients[e]._emit(n)}}}),$._access.inputs.forEach(function(t){t.name===e&&(n=t)}),n){o.dev=n;o.dev.onmidimessage=(i=o,function(t){i.handle(t)}),$._inMap[e]=o,t._orig._impl=o,C(o.clients,t._orig),t._info=o.info,t._close=function(){o._close(this)},o.dev.open&&(t._pause(),o.dev.open().then(function(){t._resume()},function(){t._crash()}))}else t._break()},$._closeOut=function(t){var e=t._impl;b(e.clients,t._orig),e.clients.length||(e.dev&&e.dev.close&&e.dev.close(),e.dev=void 0)},$._closeIn=function(t){var e=t._impl;b(e.clients,t._orig),e.clients.length||(e.dev&&(e.dev.onmidimessage=null,e.dev.close&&e.dev.close()),e.dev=void 0)},$._close=function(){$._unwatch()},$._watch=function(){$._access.onstatechange=function(){n=!0,f(function(){n&&($._refresh(),n=!1)})}},$._unwatch=function(){$._access.onstatechange=void 0}}var ht=function(t){return M||function(t){Vt(),(M=new w)._options=t,M._push(y,[ot(t)]),M.refresh(),M._resume()}(t),M._thenable()};function ft(){var t=this instanceof ft?this:t=new ft;return ft.prototype.reset.apply(t,arguments),t}function ct(){29.97==this.type&&!this.second&&this.frame<2&&this.minute%10&&(this.frame=2)}function pt(t){return[[24,25,29.97,30][t[7]>>1&3],(1&t[7])<<4|t[6],t[5]<<4|t[4],t[3]<<4|t[2],t[1]<<4|t[0]]}function lt(t){var e;switch(!t.backwards&&t.quarter>=4?t.decrFrame():t.backwards&&t.quarter<4&&t.incrFrame(),t.quarter>>1){case 0:e=t.frame;break;case 1:e=t.second;break;case 2:e=t.minute;break;default:e=t.hour}return 1&t.quarter?e>>=4:e&=15,7==t.quarter&&(25==t.type?e|=2:29.97==t.type?e|=4:30==t.type&&(e|=6)),!t.backwards&&t.quarter>=4?t.incrFrame():t.backwards&&t.quarter<4&&t.decrFrame(),e|t.quarter<<4}function dt(t){return 25==t.type?32|t.hour:29.97==t.type?64|t.hour:30==t.type?96|t.hour:t.hour}function _t(t){return t<10?"0"+t:t}function mt(t){for(var e=[],n=0;n<t.length;n++)e[n]=_t(t[n]);return e.join(":")}function gt(t){var e,n=this instanceof gt?this:n=new gt;if(t instanceof gt){for(e in n._from=t._from.slice(),t)t.hasOwnProperty(e)&&"_from"!=e&&(n[e]=t[e]);return n}if(n._from=[],void 0===t)return n;var r=t instanceof Array?t:arguments;for(e=0;e<r.length;e++)i=r[e],1==e&&(n[0]>=128&&n[0]<=175&&(i=gt.noteValue(i)),n[0]>=192&&n[0]<=207&&(i=gt.programValue(i))),(i!=parseInt(i)||i<0||i>255)&&Ct(r[e]),n.push(i);return n}ht.JZZ=ht,ht.info=function(){return w.prototype.info()},ht.Widget=function(t){var e=new L;if(t instanceof Object)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e._resume(),e},w.prototype.Widget=ht.Widget,ft.prototype.reset=function(t){if(t instanceof ft)return this.setType(t.getType()),this.setHour(t.getHour()),this.setMinute(t.getMinute()),this.setSecond(t.getSecond()),this.setFrame(t.getFrame()),this.setQuarter(t.getQuarter()),this;var e=t instanceof Array?t:arguments;return this.setType(e[0]),this.setHour(e[1]),this.setMinute(e[2]),this.setSecond(e[3]),this.setFrame(e[4]),this.setQuarter(e[5]),this},ft.prototype.isFullFrame=function(){return 0==this.quarter||4==this.quarter},ft.prototype.getType=function(){return this.type},ft.prototype.getHour=function(){return this.hour},ft.prototype.getMinute=function(){return this.minute},ft.prototype.getSecond=function(){return this.second},ft.prototype.getFrame=function(){return this.frame},ft.prototype.getQuarter=function(){return this.quarter},ft.prototype.setType=function(t){if(void 0===t||24==t)this.type=24;else if(25==t)this.type=25;else if(29.97==t)this.type=29.97,ct.apply(this);else{if(30!=t)throw RangeError("Bad SMPTE frame rate: "+t);this.type=30}return this.frame>=this.type&&(this.frame=this.type-1),this},ft.prototype.setHour=function(t){if(void 0===t&&(t=0),t!=parseInt(t)||t<0||t>=24)throw RangeError("Bad SMPTE hours value: "+t);return this.hour=t,this},ft.prototype.setMinute=function(t){if(void 0===t&&(t=0),t!=parseInt(t)||t<0||t>=60)throw RangeError("Bad SMPTE minutes value: "+t);return this.minute=t,ct.apply(this),this},ft.prototype.setSecond=function(t){if(void 0===t&&(t=0),t!=parseInt(t)||t<0||t>=60)throw RangeError("Bad SMPTE seconds value: "+t);return this.second=t,ct.apply(this),this},ft.prototype.setFrame=function(t){if(void 0===t&&(t=0),t!=parseInt(t)||t<0||t>=this.type)throw RangeError("Bad SMPTE frame number: "+t);return this.frame=t,ct.apply(this),this},ft.prototype.setQuarter=function(t){if(void 0===t&&(t=0),t!=parseInt(t)||t<0||t>=8)throw RangeError("Bad SMPTE quarter frame: "+t);return this.quarter=t,this},ft.prototype.incrFrame=function(){return this.frame++,this.frame>=this.type&&(this.frame=0,this.second++,this.second>=60&&(this.second=0,this.minute++,this.minute>=60&&(this.minute=0,this.hour=this.hour>=23?0:this.hour+1))),ct.apply(this),this},ft.prototype.decrFrame=function(){return!this.second&&2==this.frame&&29.97==this.type&&this.minute%10&&(this.frame=0),this.frame--,this.frame<0&&(this.frame=29.97==this.type?29:this.type-1,this.second--,this.second<0&&(this.second=59,this.minute--,this.minute<0&&(this.minute=59,this.hour=this.hour?this.hour-1:23))),this},ft.prototype.incrQF=function(){return this.backwards=!1,this.quarter=this.quarter+1&7,0!=this.quarter&&4!=this.quarter||this.incrFrame(),this},ft.prototype.decrQF=function(){return this.backwards=!0,this.quarter=this.quarter+7&7,3!=this.quarter&&7!=this.quarter||this.decrFrame(),this},ft.prototype.read=function(t){if(t instanceof gt||(t=gt.apply(null,arguments)),240==t[0]&&127==t[1]&&1==t[3]&&1==t[4]&&247==t[9])return this.type=[24,25,29.97,30][t[5]>>5&3],this.hour=31&t[5],this.minute=t[6],this.second=t[7],this.frame=t[8],this.quarter=0,this._=void 0,this._b=void 0,this._f=void 0,!0;if(241==t[0]&&void 0!==t[1]){var e=t[1]>>4,n=15&t[1];return 0==e?7==this._&&(7==this._f&&(this.reset(pt(this._a)),this.incrFrame()),this.incrFrame()):3==e?4==this._&&this.decrFrame():4==e?3==this._&&this.incrFrame():7==e&&0===this._&&(0===this._b&&(this.reset(pt(this._a)),this.decrFrame()),this.decrFrame()),this._a||(this._a=[]),this._a[e]=n,this._f=this._f===e-1||0==e?e:void 0,this._b=this._b===e+1||7==e?e:void 0,this._=e,this.quarter=e,!0}return!1},ft.prototype.toString=function(){return mt([this.hour,this.minute,this.second,this.frame])},ht.SMPTE=ft,gt.prototype=[],gt.prototype.constructor=gt;var vt={};gt.noteValue=function(t){return void 0===t?void 0:vt[t.toString().toLowerCase()]},gt.programValue=function(t){return t},gt.freq=function(t,e){return void 0===e&&(e=440),e*Math.pow(2,(wt(gt.noteValue(t),t)-69)/12)};var yt={c:0,d:2,e:4,f:5,g:7,a:9,b:11,h:11};for(n in yt)if(yt.hasOwnProperty(n))for(i=0;i<12&&!((r=yt[n]+12*i)>127);i++)vt[n+i]=r,r>0&&(vt[n+"b"+i]=r-1,vt[n+"bb"+i]=r-2),r<127&&(vt[n+"#"+i]=r+1,vt[n+"##"+i]=r+2);for(i=0;i<128;i++)vt[i]=i;function Ct(t){throw RangeError("Bad MIDI value: "+t)}function bt(t){return U(t),parseInt(t)}function wt(t,e){return(t!=parseInt(t)||t<0||t>127)&&Ct(void 0===e?t:e),parseInt(t)}function St(t,e){return(t!=parseInt(t)||t<0||t>255)&&Ct(void 0===e?t:e),parseInt(t)}function Mt(t){return(t!=parseInt(t)||t<0||t>16383)&&Ct(t),127&parseInt(t)}function Ot(t){return(t!=parseInt(t)||t<0||t>16383)&&Ct(t),parseInt(t)>>7}var It={noteOff:function(t,e,n){return void 0===n&&(n=64),[128+bt(t),wt(gt.noteValue(e),e),wt(n)]},noteOn:function(t,e,n){return void 0===n&&(n=127),[144+bt(t),wt(gt.noteValue(e),e),wt(n)]},aftertouch:function(t,e,n){return[160+bt(t),wt(gt.noteValue(e),e),wt(n)]},control:function(t,e,n){return[176+bt(t),wt(e),wt(n)]},program:function(t,e){return[192+bt(t),wt(gt.programValue(e),e)]},pressure:function(t,e){return[208+bt(t),wt(e)]},pitchBend:function(t,e){return[224+bt(t),Mt(e),Ot(e)]},bankMSB:function(t,e){return[176+bt(t),0,wt(e)]},bankLSB:function(t,e){return[176+bt(t),32,wt(e)]},modMSB:function(t,e){return[176+bt(t),1,wt(e)]},modLSB:function(t,e){return[176+bt(t),33,wt(e)]},breathMSB:function(t,e){return[176+bt(t),2,wt(e)]},breathLSB:function(t,e){return[176+bt(t),34,wt(e)]},footMSB:function(t,e){return[176+bt(t),4,wt(e)]},footLSB:function(t,e){return[176+bt(t),36,wt(e)]},portamentoMSB:function(t,e){return[176+bt(t),5,wt(e)]},portamentoLSB:function(t,e){return[176+bt(t),37,wt(e)]},volumeMSB:function(t,e){return[176+bt(t),7,wt(e)]},volumeLSB:function(t,e){return[176+bt(t),39,wt(e)]},balanceMSB:function(t,e){return[176+bt(t),8,wt(e)]},balanceLSB:function(t,e){return[176+bt(t),40,wt(e)]},panMSB:function(t,e){return[176+bt(t),10,wt(e)]},panLSB:function(t,e){return[176+bt(t),42,wt(e)]},expressionMSB:function(t,e){return[176+bt(t),11,wt(e)]},expressionLSB:function(t,e){return[176+bt(t),43,wt(e)]},damper:function(t,e){return[176+bt(t),64,e?127:0]},portamento:function(t,e){return[176+bt(t),65,e?127:0]},sostenuto:function(t,e){return[176+bt(t),66,e?127:0]},soft:function(t,e){return[176+bt(t),67,e?127:0]},allSoundOff:function(t){return[176+bt(t),120,0]},allNotesOff:function(t){return[176+bt(t),123,0]}},At={mtc:function(t){return[241,lt(t)]},songPosition:function(t){return[242,Mt(t),Ot(t)]},songSelect:function(t){return[243,wt(t)]},tune:function(){return[246]},clock:function(){return[248]},start:function(){return[250]},continue:function(){return[251]},stop:function(){return[252]},active:function(){return[254]},sxIdRequest:function(){return[240,126,127,6,1,247]},sxFullFrame:function(t){return[240,127,127,1,1,dt(t),t.getMinute(),t.getSecond(),t.getFrame(),247]},reset:function(){return[255]}};function Et(t,e){var n=new gt;return n.ff=St(t),n.dd=void 0===e?"":function(t){t=""+t;for(var e=0;e<t.length;e++)t.charCodeAt(e)>255&&Ct(t[e]);return t}(e),n}var xt={smf:function(t){if(t instanceof gt)return new gt(t);var e=t instanceof Array?t:arguments,n=St(e[0]),r="";return 2==e.length?r=kt(e[1]):e.length>2&&(r=kt(Array.prototype.slice.call(e,1))),Et(n,r)},smfSeqNumber:function(t){if(t==parseInt(t)){if(t<0||t>65535)throw RangeError("Sequence number out of range: "+t);t=String.fromCharCode(t>>8)+String.fromCharCode(255&t)}else if(0==(t=""+t).length)t="\0\0";else if(1==t.length)t="\0"+t;else if(t.length>2)throw RangeError("Sequence number out of range: "+Gt(t));return Et(0,t)},smfText:function(t){return Et(1,ht.lib.toUTF8(t))},smfCopyright:function(t){return Et(2,ht.lib.toUTF8(t))},smfSeqName:function(t){return Et(3,ht.lib.toUTF8(t))},smfInstrName:function(t){return Et(4,ht.lib.toUTF8(t))},smfLyric:function(t){return Et(5,ht.lib.toUTF8(t))},smfMarker:function(t){return Et(6,ht.lib.toUTF8(t))},smfCuePoint:function(t){return Et(7,ht.lib.toUTF8(t))},smfProgName:function(t){return Et(8,ht.lib.toUTF8(t))},smfDevName:function(t){return Et(9,ht.lib.toUTF8(t))},smfChannelPrefix:function(t){if(t==parseInt(t))U(t),t=String.fromCharCode(t);else if(0==(t=""+t).length)t="\0";else if(t.length>1||t.charCodeAt(0)>15)throw RangeError("Channel number out of range: "+Gt(t));return Et(32,t)},smfMidiPort:function(t){if(t==parseInt(t)){if(t<0||t>127)throw RangeError("Port number out of range: "+t);t=String.fromCharCode(t)}else if(0==(t=""+t).length)t="\0";else if(t.length>1||t.charCodeAt(0)>127)throw RangeError("Port number out of range: "+Gt(t));return Et(33,t)},smfEndOfTrack:function(t){if(""!=kt(t))throw RangeError("Unexpected data: "+Gt(kt(t)));return Et(47)},smfTempo:function(t){if(3==(""+t).length)return Et(81,t);if(t==parseInt(t)&&t>0&&t<=16777215)return Et(81,String.fromCharCode(t>>16)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t));throw RangeError("Out of range: "+Gt(kt(t)))},smfBPM:function(t){return xt.smfTempo(Math.round(6e7/t))},smfSMPTE:function(t){if(t instanceof ft)return Et(84,String.fromCharCode(t.hour)+String.fromCharCode(t.minute)+String.fromCharCode(t.second)+String.fromCharCode(t.frame)+String.fromCharCode(t.quarter%4*25));if(5==(""+t).length)return Et(84,t);var e=t instanceof Array?t:Array.prototype.slice.call(arguments);return e.splice(0,0,30),xt.smfSMPTE(new ft(e))},smfTimeSignature:function(t,e,n,r){var i,o,s,u,a=(""+t).match(/^\s*(\d+)\s*\/\s*(\d+)\s*$/);if(a){if(i=parseInt(a[1]),o=parseInt(a[2]),i>0&&i<=255&&o&&!(o&o-1)){for(s=o,o=0,s>>=1;s;s>>=1)o++;return s=e==parseInt(e)?e:24,u=n==parseInt(n)?n:8,Et(88,String.fromCharCode(i)+String.fromCharCode(o)+String.fromCharCode(s)+String.fromCharCode(u))}if(4==(""+t).length)return Et(88,t)}else{if(t==parseInt(t)&&e==parseInt(e)&&e&&!(e&e-1)){for(i=t,o=0,s=e,s>>=1;s;s>>=1)o++;return s=n==parseInt(n)?n:24,u=r==parseInt(r)?r:8,Et(88,String.fromCharCode(i)+String.fromCharCode(o)+String.fromCharCode(s)+String.fromCharCode(u))}if(4==(""+t).length)return Et(88,t)}throw RangeError("Wrong time signature: "+Gt(kt(t)))},smfKeySignature:function(t){var e=(t=""+t).match(/^\s*([A-H][b#]?)\s*(|maj|major|dur|m|min|minor|moll)\s*$/i);if(e){var n={CB:0,GB:1,DB:2,AB:3,EB:4,BB:5,F:6,C:7,G:8,D:9,A:10,E:11,B:12,H:12,"F#":13,"C#":14,"G#":15,"D#":16,"A#":17}[e[1].toUpperCase()],r={"":0,MAJ:0,MAJOR:0,DUR:0,M:1,MIN:1,MINOR:1,MOLL:1}[e[2].toUpperCase()];void 0!==n&&void 0!==r&&(r&&(n-=3),(n-=7)>=-7&&n<0?t=String.fromCharCode(256+n)+String.fromCharCode(r):n>=0&&n<=7&&(t=String.fromCharCode(n)+String.fromCharCode(r)))}if(2==t.length&&t.charCodeAt(1)<=1&&(t.charCodeAt(0)<=7||t.charCodeAt(0)<=255&&t.charCodeAt(0)>=249))return Et(89,t);throw RangeError("Incorrect key signature: "+Gt(t))},smfSequencer:function(t){return Et(127,kt(t))}};function Pt(t,e,n){t.prototype[e]=function(){return this.send(n.apply(0,arguments)),this}}function Bt(t,e,n){t.prototype[e]=function(){return this.send(n.apply(0,[this._chan].concat(Array.prototype.slice.call(arguments)))),this}}function Tt(t,e){gt[t]=function(){return new gt(e.apply(0,arguments))}}function Ft(t,e){gt[t]=function(){return e.apply(0,arguments)}}function qt(t,e){Tt(t,e),Z.prototype[t]=function(){var t,n=Array.prototype.slice.call(arguments);n.length<e.length?n=[this._master].concat(n):(t=wt(gt.noteValue(n[0],n[0])),n[0]=this._master);var r=e.apply(0,n);return r.mpe=t,this.send(r),this}}for(n in At)At.hasOwnProperty(n)&&Tt(n,At[n]);for(n in xt)xt.hasOwnProperty(n)&&Ft(n,xt[n]);for(n in It)It.hasOwnProperty(n)&&qt(n,It[n]);function Dt(t,e){for(n in At)At.hasOwnProperty(n)&&Pt(t,n,At[n]);for(n in xt)xt.hasOwnProperty(n)&&Pt(t,n,xt[n]);for(n in It)It.hasOwnProperty(n)&&Pt(t,n,It[n]);if(e)for(n in It)It.hasOwnProperty(n)&&Bt(e,n,It[n])}Dt(L,G),Z.prototype.noteOn=function(t,e){var n=gt.noteOn(this._master,t,e);return n._mpe=n[1],this.send(n),this},Z.prototype.noteOff=function(t,e){var n=gt.noteOff(this._master,t,e);return n._mpe=n[1],this.send(n),this},Z.prototype.aftertouch=function(t,e){var n=gt.aftertouch(this._master,t,e);return n._mpe=n[1],this.send(n),this};var Lt,zt={a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};for(n=0;n<16;n++)zt[n]=n;function jt(t){for(var e=[],n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function kt(t){return t instanceof Array?function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}(t):void 0===t?"":""+t}function Nt(t){return(t<16?"0":"")+t.toString(16)}function Rt(t){for(var e=[],n=0;n<t.length;n++)e[n]=Nt(t[n]);return e.join(" ")}function Ut(t){return t.length?": "+Rt(jt(t)):""}function Gt(t){return t.length?": "+function(t){for(var e="",n=0;n<t.length;n++)"\n"==t[n]?e+="\\n":"\r"==t[n]?e+="\\r":"\t"==t[n]?e+="\\t":t.charCodeAt(n)<32?e+="\\x"+Nt(t.charCodeAt(n)):e+=t[n];return e}(ht.lib.fromUTF8(t)):""}function Zt(){var t=this instanceof Zt?this:t=new Zt;return t.reset(),arguments.length&&Zt.prototype.setup.apply(t,arguments),t}function Vt(){if(!Lt&&"undefined"!=typeof window){var t=window.AudioContext||window.webkitAudioContext;if(t){(Lt=new t)&&!Lt.createGain&&(Lt.createGain=Lt.createGainNode);var e=function(){if("running"!=Lt.state){Lt.resume();var t=Lt.createOscillator(),n=Lt.createGain();try{n.gain.value=0}catch(t){}n.gain.setTargetAtTime(0,Lt.currentTime,.01),t.connect(n),n.connect(Lt.destination),t.start||(t.start=t.noteOn),t.stop||(t.stop=t.noteOff),t.start(.1),t.stop(.11)}else document.removeEventListener("touchstart",e),document.removeEventListener("touchend",e),document.removeEventListener("mousedown",e),document.removeEventListener("keydown",e)};document.addEventListener("touchstart",e),document.addEventListener("touchend",e),document.addEventListener("mousedown",e),document.addEventListener("keydown",e),e()}}}gt.prototype.getChannel=function(){if(32==this.ff&&1==this.dd.length&&this.dd.charCodeAt(0)<16)return this.dd.charCodeAt(0);var t=this[0];return void 0===t||t<128||t>239?void 0:15&t},gt.prototype.setChannel=function(t){if(void 0===(t=zt[t]))return this;if(32==this.ff)this.dd=String.fromCharCode(t);else{var e=this[0];void 0!==e&&e>=128&&e<=239&&(this[0]=240&e|t)}return this},gt.prototype.getNote=function(){var t=this[0];if(!(void 0===t||t<128||t>175))return this[1]},gt.prototype.setNote=function(t){var e=this[0];return void 0===e||e<128||e>175?this:(void 0!==(t=gt.noteValue(t))&&(this[1]=t),this)},gt.prototype.getVelocity=function(){var t=this[0];if(!(void 0===t||t<128||t>159))return this[2]},gt.prototype.setVelocity=function(t){var e=this[0];return void 0===e||e<128||e>159?this:((t=parseInt(t))>=0&&t<128&&(this[2]=t),this)},gt.prototype.getSysExChannel=function(){if(240==this[0])return this[2]},gt.prototype.setSysExChannel=function(t){return 240==this[0]&&this.length>2&&(t=parseInt(t))>=0&&t<128&&(this[2]=t),this},gt.prototype.getData=function(){if(void 0!==this.dd)return this.dd.toString()},gt.prototype.setData=function(t){return this.dd=kt(t),this},gt.prototype.getText=function(){if(void 0!==this.dd)return ht.lib.fromUTF8(this.dd)},gt.prototype.setText=function(t){return this.dd=ht.lib.toUTF8(t),this},gt.prototype.getTempo=function(){if(81==this.ff&&void 0!==this.dd)return 65536*this.dd.charCodeAt(0)+256*this.dd.charCodeAt(1)+this.dd.charCodeAt(2)},gt.prototype.getBPM=function(){var t=this.getTempo();if(t)return 6e7/t},gt.prototype.getTimeSignature=function(){if(88==this.ff&&void 0!==this.dd)return[this.dd.charCodeAt(0),1<<this.dd.charCodeAt(1)]},gt.prototype.getKeySignature=function(){if(89==this.ff&&void 0!==this.dd){var t=this.dd.charCodeAt(0),e=this.dd.charCodeAt(1);if(128&t&&(t-=256),t>=-7&&t<=7&&e>=0&&e<=1)return[t,["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#","G#","D#","A#"][e?t+10:t+7],!!e]}},gt.prototype.isNoteOn=function(){var t=this[0];return!(void 0===t||t<144||t>159)&&this[2]>0},gt.prototype.isNoteOff=function(){var t=this[0];return!(void 0===t||t<128||t>159)&&(t<144||0==this[2])},gt.prototype.isSysEx=function(){return 240==this[0]},gt.prototype.isFullSysEx=function(){return 240==this[0]&&247==this[this.length-1]},gt.prototype.isSMF=function(){return this.ff>=0&&this.ff<=127},gt.prototype.isEOT=function(){return 47==this.ff},gt.prototype.isTempo=function(){return 81==this.ff},gt.prototype.isTimeSignature=function(){return 88==this.ff},gt.prototype.isKeySignature=function(){return 89==this.ff},gt.prototype.toString=function(){var t,e;if(!this.length){if(void 0!==this.ff){if(t="ff"+Nt(this.ff)+" -- ",0==this.ff)t+="Sequence Number: "+function(t){for(var e=0,n=0;n<t.length;n++)e=(e<<8)+t.charCodeAt(n);return e}(this.dd);else if(this.ff>0&&this.ff<10)t+=["","Text","Copyright","Sequence Name","Instrument Name","Lyric","Marker","Cue Point","Program Name","Device Name"][this.ff]+Gt(this.dd);else if(32==this.ff)t+="Channel Prefix"+Ut(this.dd);else if(33==this.ff)t+="MIDI Port"+Ut(this.dd);else if(47==this.ff)t+="End of Track"+Ut(this.dd);else if(81==this.ff){t+="Tempo: "+Math.round(100*this.getBPM())/100+" bpm"}else if(84==this.ff)t+="SMPTE Offset: "+mt(jt(this.dd));else if(88==this.ff){var n=1<<this.dd.charCodeAt(1);t+="Time Signature: "+this.dd.charCodeAt(0)+"/"+n,t+=" "+this.dd.charCodeAt(2)+" "+this.dd.charCodeAt(3)}else if(89==this.ff){t+="Key Signature: ";var r=this.getKeySignature();r?(t+=r[1],r[2]&&(t+=" min")):t+="invalid"}else 127==this.ff?t+="Sequencer Specific"+Ut(this.dd):t+="SMF"+Ut(this.dd);return t}return"empty"}if(t=Rt(this),this[0]<128)return t;if(e={241:"MIDI Time Code",242:"Song Position",243:"Song Select",244:"Undefined",245:"Undefined",246:"Tune request",248:"Timing clock",249:"Undefined",250:"Start",251:"Continue",252:"Stop",253:"Undefined",254:"Active Sensing",255:"Reset"}[this[0]])return t+" -- "+e;var i=this[0]>>4;return(e={8:"Note Off",10:"Aftertouch",12:"Program Change",13:"Channel Aftertouch",14:"Pitch Wheel"}[i])?t+" -- "+e:9==i?t+" -- "+(this[2]?"Note On":"Note Off"):11!=i?t:((e={0:"Bank Select MSB",1:"Modulation Wheel MSB",2:"Breath Controller MSB",4:"Foot Controller MSB",5:"Portamento Time MSB",6:"Data Entry MSB",7:"Channel Volume MSB",8:"Balance MSB",10:"Pan MSB",11:"Expression Controller MSB",12:"Effect Control 1 MSB",13:"Effect Control 2 MSB",16:"General Purpose Controller 1 MSB",17:"General Purpose Controller 2 MSB",18:"General Purpose Controller 3 MSB",19:"General Purpose Controller 4 MSB",32:"Bank Select LSB",33:"Modulation Wheel LSB",34:"Breath Controller LSB",36:"Foot Controller LSB",37:"Portamento Time LSB",38:"Data Entry LSB",39:"Channel Volume LSB",40:"Balance LSB",42:"Pan LSB",43:"Expression Controller LSB",44:"Effect control 1 LSB",45:"Effect control 2 LSB",48:"General Purpose Controller 1 LSB",49:"General Purpose Controller 2 LSB",50:"General Purpose Controller 3 LSB",51:"General Purpose Controller 4 LSB",64:"Damper Pedal On/Off",65:"Portamento On/Off",66:"Sostenuto On/Off",67:"Soft Pedal On/Off",68:"Legato Footswitch",69:"Hold 2",70:"Sound Controller 1",71:"Sound Controller 2",72:"Sound Controller 3",73:"Sound Controller 4",74:"Sound Controller 5",75:"Sound Controller 6",76:"Sound Controller 7",77:"Sound Controller 8",78:"Sound Controller 9",79:"Sound Controller 10",80:"General Purpose Controller 5",81:"General Purpose Controller 6",82:"General Purpose Controller 7",83:"General Purpose Controller 8",84:"Portamento Control",88:"High Resolution Velocity Prefix",91:"Effects 1 Depth",92:"Effects 2 Depth",93:"Effects 3 Depth",94:"Effects 4 Depth",95:"Effects 5 Depth",96:"Data Increment",97:"Data Decrement",98:"Non-Registered Parameter Number LSB",99:"Non-Registered Parameter Number MSB",100:"Registered Parameter Number LSB",101:"Registered Parameter Number MSB",120:"All Sound Off",121:"Reset All Controllers",122:"Local Control On/Off",123:"All Notes Off",124:"Omni Mode Off",125:"Omni Mode On",126:"Mono Mode On",127:"Poly Mode On"}[this[1]])||(e="Undefined"),t+" -- "+e)},gt.prototype._stamp=function(t){return this._from.push(t._orig?t._orig:t),this},gt.prototype._unstamp=function(t){if(void 0===t)this._from=[];else{t._orig&&(t=t._orig);var e=this._from.indexOf(t);e>-1&&this._from.splice(e,1)}return this},gt.prototype._stamped=function(t){t._orig&&(t=t._orig);for(var e=0;e<this._from.length;e++)if(this._from[e]==t)return!0;return!1},ht.MIDI=gt,Zt.validate=function(t){var e=t instanceof Array?t:arguments;if(e[0]!=parseInt(e[0])||e[0]<0||e[0]>14)throw RangeError("Bad master channel value: "+e[0]);if(e[1]!=parseInt(e[1])||e[1]<0||e[0]+e[1]>15)throw RangeError("Bad zone size value: "+e[1])},Zt.prototype.reset=function(){for(var t=0;t<16;t++)this[t]={band:0,master:t}},Zt.prototype.setup=function(t,e){var n;Zt.validate(t,e);var r=t+e;if((this[t].master!=t||this[t].band!=e)&&(e||this[t].band)){for(this[t].band?r<(n=t+this[t].band)&&(r=n):this[t].master==t-1?(n=t-1,r<(n+=this[n].band)&&(r=n),this[t-1]={band:0,master:t-1}):this[t].master!=t&&(n=this[t].master,r<(n+=this[n].band)&&(r=n),this[this[t].master].band=t-this[t].master-1),this[t].master=t,this[t].band=e,n=t+1;n<=t+e;n++)this[n].band&&r<n+this[n].band&&(r=n+this[n].band),this[n]={band:0,master:t};for(;n<=r;n++)this[n]={band:0,master:n}}},Zt.prototype.filter=function(t){var e=t.getChannel();if(!this[e]||!this[this[e].master].band)return t;var n,r,i,o=this[e].master,s=this[o].band;if(void 0!==t._mpe){for(i=256,n=o+1;n<=o+s;n++)if(this[n].notes){for(i>this[n].notes.length&&(e=n,i=this[n].notes.length),r=0;r<this[n].notes.length;r++)if(this[n].notes[r]==t._mpe){e=n,i=-1;break}}else i>0&&(e=n,i=0);t.setChannel(e),t._mpe=void 0}return e==o?t:(t.isNoteOn()?(this[e].notes||(this[e].notes=[]),C(this[e].notes,t.getNote())):t.isNoteOff()&&this[e].notes&&b(this[e].notes,t.getNote()),t)},ht.MPE=Zt,ht.lib={},ht.lib.now=h,ht.lib.schedule=f,ht.lib.openMidiOut=function(t,e){var n=new L;return e._openOut(n),n._info=e._info(t),n},ht.lib.openMidiIn=function(t,e){var n=new L;return e._openIn(n),n._info=e._info(t),n},ht.lib.registerMidiOut=function(t,e){for(var n=e._info(t),r=0;r<X._outs.length;r++)if(X._outs[r].name==n.name)return!1;return n.engine=e,X._outs.push(n),M&&(x(),M._bad&&(M._repair(),M._resume())),!0},ht.lib.registerMidiIn=function(t,e){for(var n=e._info(t),r=0;r<X._ins.length;r++)if(X._ins[r].name==n.name)return!1;return n.engine=e,X._ins.push(n),M&&(x(),M._bad&&(M._repair(),M._resume())),!0},ht.lib.copyMidiHelpers=Dt,ht.lib.getAudioContext=function(){return Vt(),Lt};var Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ht.lib.fromBase64=function(t){var e,n,r,i,o,s,u="",a=0;for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");a<t.length;)e=Jt.indexOf(t.charAt(a++))<<2|(i=Jt.indexOf(t.charAt(a++)))>>4,n=(15&i)<<4|(o=Jt.indexOf(t.charAt(a++)))>>2,r=(3&o)<<6|(s=Jt.indexOf(t.charAt(a++))),u+=String.fromCharCode(e),64!=o&&(u+=String.fromCharCode(n)),64!=s&&(u+=String.fromCharCode(r));return u},ht.lib.toBase64=function(t){var e,n,r,i,o,s=0,u=0,a="",h=[];if(!t)return t;do{e=(o=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,h[u++]=Jt.charAt(e)+Jt.charAt(n)+Jt.charAt(r)+Jt.charAt(i)}while(s<t.length);a=h.join("");var f=t.length%3;return f?a.slice(0,f-3)+"===".slice(f):a},ht.lib.fromUTF8=function(t){t=void 0===t?"":""+t;var e,n,r,i="";for(e=0;e<t.length;e++){if((n=t.charCodeAt(e))>255)return t;if(n<128)i+=t[e];else if(192==(224&n)){if(n=(31&n)<<6,++e>=t.length)return t;if(128!=(192&(r=t.charCodeAt(e))))return t;n+=63&r,i+=String.fromCharCode(n)}else if(224==(240&n)){if(n=(15&n)<<12,++e>=t.length)return t;if(128!=(192&(r=t.charCodeAt(e))))return t;if(n+=(63&r)<<6,++e>=t.length)return t;if(128!=(192&(r=t.charCodeAt(e))))return t;n+=63&r,i+=String.fromCharCode(n)}else if(240==(248&n)){if(n=(7&n)<<18,++e>=t.length)return t;if(128!=(192&(r=t.charCodeAt(e))))return t;if(n+=(63&r)<<12,++e>=t.length)return t;if(128!=(192&(r=t.charCodeAt(e))))return t;if(n+=(63&r)<<6,++e>=t.length)return t;if(128!=(192&(r=t.charCodeAt(e))))return t;if((n+=63&r)>1114111)return t;n-=65536,i+=String.fromCharCode(55296+(n>>10)),i+=String.fromCharCode(56320+(1023&n))}}return i},ht.lib.toUTF8=function(t){t=void 0===t?"":""+t;var e,n,r="";for(e=0;e<t.length;e++)(n=t.charCodeAt(e))<128?r+=t[e]:n<2048?(r+=String.fromCharCode(192+(n>>6)),r+=String.fromCharCode(128+(63&n))):n<65536?(r+=String.fromCharCode(224+(n>>12)),r+=String.fromCharCode(128+(n>>6&63)),r+=String.fromCharCode(128+(63&n))):(r+=String.fromCharCode(240+(n>>18)),r+=String.fromCharCode(128+(n>>12&63)),r+=String.fromCharCode(128+(n>>6&63)),r+=String.fromCharCode(128+(63&n)));return r};var Wt=[],Ht={},Qt={},Kt=o.Promise;function $t(t,e,n){this.name=t,this.message=e,this.code=n}function Xt(t,e){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.port=t,this.returnValue=!0,this.srcElement=e,this.target=e,this.timeStamp=h(),this.type="statechange"}function Yt(t,e){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=t,this.data=e,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.receivedTime=h(),this.returnValue=!0,this.srcElement=t,this.target=t,this.timeStamp=this.receivedTime,this.type="midimessage"}function te(t,e){t&&(t.onstatechange&&t.onstatechange(new Xt(t,t)),e.onstatechange&&e.onstatechange(new Xt(t,e)))}function ee(t,e){var n=this,r=!1,i=null,o=null;this.type="input",this.id=e.id,this.name=e.name,this.manufacturer=e.man,this.version=e.ver,Object.defineProperty(this,"state",{get:function(){return e.connected?"connected":"disconnected"},enumerable:!0}),Object.defineProperty(this,"connection",{get:function(){return r?e.proxy?"open":"pending":"closed"},enumerable:!0}),Object.defineProperty(this,"onmidimessage",{get:function(){return o},set:function(t){t instanceof Function?(o=t,r||n.open()):o=null},enumerable:!0}),Object.defineProperty(this,"onstatechange",{get:function(){return i},set:function(t){i=t instanceof Function?t:null},enumerable:!0}),this.open=function(){return new Kt(function(i,o){r?i(n):e.open().then(function(){r||(r=!0,te(n,t)),i(n)},function(){o(new $t("InvalidAccessError","Port is not available",15))})})},this.close=function(){return new Kt(function(i){r&&(r=!1,e.close(),te(n,t)),i(n)})},Object.freeze(this)}function ne(t){for(var e,n;t.length;){for(e=0;e<t.length&&!(t[e]==parseInt(t[e])&&t[e]>=128&&t[e]<=255&&247!=t[e]);e++);if(t.splice(0,e),!t.length)return;if(240==t[0]){for(e=1;e<t.length&&247!=t[e];e++);if(e==t.length)return;return t.splice(0,e+1)}if((n=ie(t[0])+1)>t.length)return;for(e=1;e<n&&!(t[e]!=parseInt(t[e])||t[e]<0||t[e]>=128);e++);if(e==n)return t.splice(0,e);t.splice(0,e)}}function re(e,n,r,i){var o=this;this.id=e,this.name=n,this.man=r,this.ver=i,this.connected=!0,this.ports=[],this.pending=[],this.proxy=void 0,this.queue=[],this.onmidi=function(e){var n;for(o.queue=o.queue.concat(e.slice()),n=ne(o.queue);n;n=ne(o.queue))for(t=0;t<o.ports.length;t++)o.ports[t][0].onmidimessage&&(240!=n[0]||o.ports[t][1])&&o.ports[t][0].onmidimessage(new Yt(o,new Uint8Array(n)))}}function ie(t){return t>=128&&t<=191||t>=224&&t<=239||242==t?2:t>=192&&t<=223||241==t||243==t?1:0}"function"!=typeof Kt&&((Kt=function(t){this.executor=t}).prototype.then=function(t,e){"function"!=typeof t&&(t=function(){}),"function"!=typeof e&&(e=function(){}),this.executor(t,e)}),re.prototype.open=function(){var t=this;return new Kt(function(e,n){var r;t.proxy||!t.connected?e():(t.pending.push([e,n]),1==t.pending.length&&ht().openMidiIn(t.name).or(function(){for(r=0;r<t.pending.length;r++)t.pending[r][1]();t.pending=[]}).and(function(){for(t.proxy=this,t.proxy.connect(t.onmidi),r=0;r<t.pending.length;r++)t.pending[r][0]();t.pending=[]}))})},re.prototype.close=function(){var t;if(this.proxy){for(t=0;t<this.ports.length;t++)if("open"==this.ports[t].connection)return;this.proxy.close(),this.proxy=void 0}},re.prototype.disconnect=function(){this.connected=!1,this.proxy&&(this.proxy.close(),this.proxy=void 0)},re.prototype.reconnect=function(){var t,e,n=this,r=[];for(this.connected=!0,t=0;t<Wt.length;t++)"closed"==(e=Wt[t].inputs.get(this.id)).connection?te(e,Wt[t]):r.push([e,Wt[t]]);r.length&&ht()._openMidiInNR(n.name).or(function(){for(t=0;t<r.length;t++)r[t][0].close()}).and(function(){for(n.proxy=this,n.proxy.connect(n.onmidi),t=0;t<r.length;t++)te(r[t][0],r[t][1])})};var oe="Failed to execute 'send' on 'MIDIOutput': ";function se(t,e){var n=this,r=!1,i=null;this.type="output",this.id=e.id,this.name=e.name,this.manufacturer=e.man,this.version=e.ver,Object.defineProperty(this,"state",{get:function(){return e.connected?"connected":"disconnected"},enumerable:!0}),Object.defineProperty(this,"connection",{get:function(){return r?e.proxy?"open":"pending":"closed"},enumerable:!0}),Object.defineProperty(this,"onstatechange",{get:function(){return i},set:function(t){i=t instanceof Function?t:null},enumerable:!0}),this.open=function(){return new Kt(function(i,o){r?i(n):e.open().then(function(){r||(r=!0,te(n,t)),i(n)},function(){o(new $t("InvalidAccessError","Port is not available",15))})})},this.close=function(){return new Kt(function(i){r&&(r=!1,n.clear(),e.close(),te(n,t)),i(n)})},this.clear=function(){},this.send=function(i,o){if(function(t,e){var n,r,i,o=[];for(n=0;n<t.length;n++)if(t[n]!=parseInt(t[n])||t[n]<0||t[n]>255)throw TypeError(oe+t[n]+" is not a UInt8 value.");for(r=0,n=0;n<t.length;n++)if(r){if(t[n]>127)throw TypeError(oe+"Unexpected status byte at index "+n+" ("+t[n]+").");i.push(t[n]),r--}else{if(t[n]<128)throw TypeError(oe+"Running status is not allowed at index "+n+" ("+t[n]+").");if(247==t[n])throw TypeError(oe+"Unexpected end of system exclusive message at index "+n+" ("+t[n]+").");if(i=[t[n]],o.push(i),240==t[n]){if(!e)throw new $t("InvalidAccessError",oe+"System exclusive messag is not allowed at index "+n+" ("+t[n]+").",15);for(r=-1;n<t.length;n++)if(i.push(t[n]),247==t[n]){r=0;break}}else r=ie(t[n])}if(r)throw TypeError(oe+"Message is incomplete")}(i,t.sysexEnabled),!e.connected)throw new $t("InvalidStateError","Port is not connected",11);if(r){var s=h();o>s?setTimeout(function(){e.proxy.send(i)},o-s):e.proxy.send(i)}else this.open().then(function(){n.send(i,o)})},Object.freeze(this)}function ue(t,e,n,r){this.id=t,this.name=e,this.man=n,this.ver=r,this.connected=!0,this.ports=[],this.pending=[],this.proxy=void 0}function ae(t){this.has=function(e){return t.hasOwnProperty(e)&&t[e].connected},this.keys=function(){try{var e=new Map;for(var n in t)this.has(n)&&e.set(n,this.get(n));return e.keys()}catch(t){}},this.values=function(){try{var e=new Map;for(var n in t)this.has(n)&&e.set(n,this.get(n));return e.values()}catch(t){}},this.entries=function(){try{var e=new Map;for(var n in t)this.has(n)&&e.set(n,this.get(n));return e.entries()}catch(t){}},this.forEach=function(e,n){for(var r in void 0===n&&(n=this),t)this.has(r)&&e.call(n,this.get(r),r,this)},Object.defineProperty(this,"size",{get:function(){var e=0;for(var n in t)this.has(n)&&e++;return e},enumerable:!0})}function he(t,e){this.get=function(n){if(Qt.hasOwnProperty(n)&&Qt[n].connected)return e[n]||(e[n]=new ee(t,Qt[n]),Qt[n].ports.push([e[n],t.sysexEnabled])),e[n]},Object.freeze(this)}function fe(t,e){this.get=function(n){if(Ht.hasOwnProperty(n)&&Ht[n].connected)return e[n]||(e[n]=new se(t,Ht[n]),Ht[n].ports.push([e[n],t.sysexEnabled])),e[n]},Object.freeze(this)}function ce(t){var e,n,r,i;for(e=0;e<t.inputs.added.length;e++)r=t.inputs.added[e],Qt.hasOwnProperty(r.id)||(Qt[r.id]=new re(r.id,r.name,r.manufacturer,r.version)),Qt[r.id].reconnect();for(e=0;e<t.outputs.added.length;e++)r=t.outputs.added[e],Ht.hasOwnProperty(r.id)||(Ht[r.id]=new ue(r.id,r.name,r.manufacturer,r.version)),Ht[r.id].reconnect();for(e=0;e<t.inputs.removed.length;e++)if(r=t.inputs.removed[e],Qt.hasOwnProperty(r.id)){for(i=[],n=0;n<Wt.length;n++)i.push([Wt[n].inputs.get(r.id),Wt[n]]);for(Qt[r.id].disconnect(),n=0;n<i.length;n++)te(i[n][0],i[n][1])}for(e=0;e<t.outputs.removed.length;e++)if(r=t.outputs.removed[e],Ht.hasOwnProperty(r.id)){for(i=[],n=0;n<Wt.length;n++)i.push([Wt[n].outputs.get(r.id),Wt[n]]);for(Ht[r.id].disconnect(),n=0;n<i.length;n++)te(i[n][0],i[n][1])}}function pe(t){var e,n,r=null;this.sysexEnabled=t,this.inputs=new he(this,{}),this.outputs=new fe(this,{}),Object.defineProperty(this,"onstatechange",{get:function(){return r},set:function(t){r=t instanceof Function?t:null},enumerable:!0}),Object.freeze(this);var i=M._info;for(e=0;e<i.inputs.length;e++)n=i.inputs[e],Qt.hasOwnProperty(n.id)||(Qt[n.id]=new re(n.id,n.name,n.manufacturer,n.version));for(e=0;e<i.outputs.length;e++)n=i.outputs[e],Ht.hasOwnProperty(n.id)||(Ht[n.id]=new ue(n.id,n.name,n.manufacturer,n.version));Wt.length||ht().onChange(ce),Wt.push(this)}return ue.prototype.open=function(){var t=this;return new Kt(function(e,n){var r;t.proxy||!t.connected?e():(t.pending.push([e,n]),1==t.pending.length&&ht().openMidiOut(t.name).or(function(){for(r=0;r<t.pending.length;r++)t.pending[r][1]();t.pending=[]}).and(function(){for(t.proxy=this,r=0;r<t.pending.length;r++)t.pending[r][0]();t.pending=[]}))})},ue.prototype.close=function(){var t;if(this.proxy){for(t=0;t<this.ports.length;t++)if("open"==this.ports[t].connection)return;this.proxy.close(),this.proxy=void 0}},ue.prototype.disconnect=function(){this.connected=!1,this.proxy&&(this.proxy.close(),this.proxy=void 0)},ue.prototype.reconnect=function(){var t,e,n=this,r=[];for(this.connected=!0,t=0;t<Wt.length;t++)"closed"==(e=Wt[t].outputs.get(this.id)).connection?te(e,Wt[t]):r.push([e,Wt[t]]);r.length&&ht()._openMidiOutNR(n.name).or(function(){for(t=0;t<r.length;t++)r[t][0].close()}).and(function(){for(n.proxy=this,t=0;t<r.length;t++)te(r[t][0],r[t][1])})},he.prototype=new ae(Qt),he.prototype.constructor=he,fe.prototype=new ae(Ht),fe.prototype.constructor=fe,ht.requestMIDIAccess=function(t){return new Kt(function(e,n){ht.JZZ(t).or(function(){}).and(function(){var r=!(!t||!t.sysex);if(r&&!this.info().sysex)n(new $t("SecurityError","Sysex is not allowed",18));else{var i=new pe(r);e(i)}})})},"undefined"==typeof navigator||navigator.requestMIDIAccess||(navigator.requestMIDIAccess=ht.requestMIDIAccess),ht.close=function(){$._close&&$._close()},ht});
//# sourceMappingURL=/sm/cfa9e92c678607363de7aacda3e0fbd72ab1257f29baad4b2ccde2180530e73a.map